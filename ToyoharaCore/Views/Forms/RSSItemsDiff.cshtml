@{Layout = "~/Views/Shared/_Layout.cshtml";
    string control = ViewContext.RouteData.Values["Controller"].ToString();
}
@using ToyoharaCore.Models
@using ToyoharaCore.Models.CustomModel
<link href="~/css/Forms/Index.css" rel="stylesheet" />
<script src="~/js/Forms/RSSitemsDiff.js"></script>


<input type="hidden" name="form_id" id="form_id" value=@ViewData["form_id"]>

<input type="hidden" name="CommitChanges" id="CommitChanges" value=@ViewBag.CommitChanges>


@Html.Partial("Settings", (Settings)ViewBag.Settings)



@(Html.DevExtreme().DataGrid<OMC_SELECT_FORM_RSS_ITEMS_DIFFResult>
                                        ()
                                        .ID("Grid")
                                        .ShowBorders(true)
                                        .DataSource(d => d.Mvc()
                                        .LoadAction("GetData")
                                        .Controller("Common")
                                        .Key("id")

                                        .LoadParams(new
                                        {
                                            additionalParams = new JS("function(){return ReturnData('" + control + "');}")
                                        })
                                        )
                                        .Selection(s => s.Mode(SelectionMode.Multiple).ShowCheckBoxesMode(DevExtreme.AspNet.Mvc.GridSelectionShowCheckBoxesMode.Always).AllowSelectAll(true))
                                        .Columns(columns =>
                                        {
                                //ViewData["columns"]
                                columns.AddFor(m => m.id).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_id_ru"])).Visible((bool)ViewData["CK_UI_id"]).Width((int)ViewData["CK_UI_id_width"]).VisibleIndex((int)ViewData["CK_UI_id_pos"]).AllowEditing((bool)ViewData["CK_UI_id_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.form_item_id).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_form_item_id_ru"])).Visible((bool)ViewData["CK_UI_form_item_id"]).Width((int)ViewData["CK_UI_form_item_id_width"]).VisibleIndex((int)ViewData["CK_UI_form_item_id_pos"]).AllowEditing((bool)ViewData["CK_UI_form_item_id_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.prslno_id).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_prslno_id_ru"])).Visible((bool)ViewData["CK_UI_prslno_id"]).Width((int)ViewData["CK_UI_prslno_id_width"]).VisibleIndex((int)ViewData["CK_UI_prslno_id_pos"]).AllowEditing((bool)ViewData["CK_UI_prslno_id_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.form_id).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_form_id_ru"])).Visible((bool)ViewData["CK_UI_form_id"]).Width((int)ViewData["CK_UI_form_id_width"]).VisibleIndex((int)ViewData["CK_UI_form_id_pos"]).AllowEditing((bool)ViewData["CK_UI_form_id_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.project_id).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_project_id_ru"])).Visible((bool)ViewData["CK_UI_project_id"]).Width((int)ViewData["CK_UI_project_id_width"]).VisibleIndex((int)ViewData["CK_UI_project_id_pos"]).AllowEditing((bool)ViewData["CK_UI_project_id_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.diff_type).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_diff_type_ru"])).Visible((bool)ViewData["CK_UI_diff_type"]).Width((int)ViewData["CK_UI_diff_type_width"]).VisibleIndex((int)ViewData["CK_UI_diff_type_pos"]).AllowEditing((bool)ViewData["CK_UI_diff_type_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.code).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_code_ru"])).Visible((bool)ViewData["CK_UI_code"]).Width((int)ViewData["CK_UI_code_width"]).VisibleIndex((int)ViewData["CK_UI_code_pos"]).AllowEditing((bool)ViewData["CK_UI_code_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_object_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_object_description_ru"])).Visible((bool)ViewData["CK_UI_last_object_description"]).Width((int)ViewData["CK_UI_last_object_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_object_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_object_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_object_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_object_description_ru"])).Visible((bool)ViewData["CK_UI_new_object_description"]).Width((int)ViewData["CK_UI_new_object_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_object_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_object_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_object_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_object_description_ru"])).Visible((bool)ViewData["CK_UI_color_object_description"]).Width((int)ViewData["CK_UI_color_object_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_object_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_object_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_subobject_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_subobject_description_ru"])).Visible((bool)ViewData["CK_UI_last_subobject_description"]).Width((int)ViewData["CK_UI_last_subobject_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_subobject_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_subobject_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_subobject_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_subobject_description_ru"])).Visible((bool)ViewData["CK_UI_new_subobject_description"]).Width((int)ViewData["CK_UI_new_subobject_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_subobject_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_subobject_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_subobject_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_subobject_description_ru"])).Visible((bool)ViewData["CK_UI_color_subobject_description"]).Width((int)ViewData["CK_UI_color_subobject_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_subobject_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_subobject_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_subcontractor_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_subcontractor_description_ru"])).Visible((bool)ViewData["CK_UI_last_subcontractor_description"]).Width((int)ViewData["CK_UI_last_subcontractor_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_subcontractor_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_subcontractor_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_subcontractor_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_subcontractor_description_ru"])).Visible((bool)ViewData["CK_UI_new_subcontractor_description"]).Width((int)ViewData["CK_UI_new_subcontractor_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_subcontractor_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_subcontractor_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_subcontractor_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_subcontractor_description_ru"])).Visible((bool)ViewData["CK_UI_color_subcontractor_description"]).Width((int)ViewData["CK_UI_color_subcontractor_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_subcontractor_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_subcontractor_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_lno_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_lno_description_ru"])).Visible((bool)ViewData["CK_UI_last_lno_description"]).Width((int)ViewData["CK_UI_last_lno_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_lno_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_lno_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_lno_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_lno_description_ru"])).Visible((bool)ViewData["CK_UI_new_lno_description"]).Width((int)ViewData["CK_UI_new_lno_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_lno_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_lno_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_lno_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_lno_description_ru"])).Visible((bool)ViewData["CK_UI_color_lno_description"]).Width((int)ViewData["CK_UI_color_lno_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_lno_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_lno_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_project_documentation_code).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_project_documentation_code_ru"])).Visible((bool)ViewData["CK_UI_last_project_documentation_code"]).Width((int)ViewData["CK_UI_last_project_documentation_code_width"]).VisibleIndex((int)ViewData["CK_UI_last_project_documentation_code_pos"]).AllowEditing((bool)ViewData["CK_UI_last_project_documentation_code_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_project_documentation_code).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_project_documentation_code_ru"])).Visible((bool)ViewData["CK_UI_new_project_documentation_code"]).Width((int)ViewData["CK_UI_new_project_documentation_code_width"]).VisibleIndex((int)ViewData["CK_UI_new_project_documentation_code_pos"]).AllowEditing((bool)ViewData["CK_UI_new_project_documentation_code_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_project_documentation_code).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_project_documentation_code_ru"])).Visible((bool)ViewData["CK_UI_color_project_documentation_code"]).Width((int)ViewData["CK_UI_color_project_documentation_code_width"]).VisibleIndex((int)ViewData["CK_UI_color_project_documentation_code_pos"]).AllowEditing((bool)ViewData["CK_UI_color_project_documentation_code_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_revision_number).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_revision_number_ru"])).Visible((bool)ViewData["CK_UI_last_revision_number"]).Width((int)ViewData["CK_UI_last_revision_number_width"]).VisibleIndex((int)ViewData["CK_UI_last_revision_number_pos"]).AllowEditing((bool)ViewData["CK_UI_last_revision_number_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_revision_number).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_revision_number_ru"])).Visible((bool)ViewData["CK_UI_new_revision_number"]).Width((int)ViewData["CK_UI_new_revision_number_width"]).VisibleIndex((int)ViewData["CK_UI_new_revision_number_pos"]).AllowEditing((bool)ViewData["CK_UI_new_revision_number_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_revision_number).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_revision_number_ru"])).Visible((bool)ViewData["CK_UI_color_revision_number"]).Width((int)ViewData["CK_UI_color_revision_number_width"]).VisibleIndex((int)ViewData["CK_UI_color_revision_number_pos"]).AllowEditing((bool)ViewData["CK_UI_color_revision_number_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_description_ru"])).Visible((bool)ViewData["CK_UI_last_description"]).Width((int)ViewData["CK_UI_last_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_description_ru"])).Visible((bool)ViewData["CK_UI_new_description"]).Width((int)ViewData["CK_UI_new_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_description_ru"])).Visible((bool)ViewData["CK_UI_color_description"]).Width((int)ViewData["CK_UI_color_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_additional_properties).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_additional_properties_ru"])).Visible((bool)ViewData["CK_UI_last_additional_properties"]).Width((int)ViewData["CK_UI_last_additional_properties_width"]).VisibleIndex((int)ViewData["CK_UI_last_additional_properties_pos"]).AllowEditing((bool)ViewData["CK_UI_last_additional_properties_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_additional_properties).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_additional_properties_ru"])).Visible((bool)ViewData["CK_UI_new_additional_properties"]).Width((int)ViewData["CK_UI_new_additional_properties_width"]).VisibleIndex((int)ViewData["CK_UI_new_additional_properties_pos"]).AllowEditing((bool)ViewData["CK_UI_new_additional_properties_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_additional_properties).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_additional_properties_ru"])).Visible((bool)ViewData["CK_UI_color_additional_properties"]).Width((int)ViewData["CK_UI_color_additional_properties_width"]).VisibleIndex((int)ViewData["CK_UI_color_additional_properties_pos"]).AllowEditing((bool)ViewData["CK_UI_color_additional_properties_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_package_contents).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_package_contents_ru"])).Visible((bool)ViewData["CK_UI_last_package_contents"]).Width((int)ViewData["CK_UI_last_package_contents_width"]).VisibleIndex((int)ViewData["CK_UI_last_package_contents_pos"]).AllowEditing((bool)ViewData["CK_UI_last_package_contents_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_package_contents).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_package_contents_ru"])).Visible((bool)ViewData["CK_UI_new_package_contents"]).Width((int)ViewData["CK_UI_new_package_contents_width"]).VisibleIndex((int)ViewData["CK_UI_new_package_contents_pos"]).AllowEditing((bool)ViewData["CK_UI_new_package_contents_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_package_contents).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_package_contents_ru"])).Visible((bool)ViewData["CK_UI_color_package_contents"]).Width((int)ViewData["CK_UI_color_package_contents_width"]).VisibleIndex((int)ViewData["CK_UI_color_package_contents_pos"]).AllowEditing((bool)ViewData["CK_UI_color_package_contents_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_manufacturer).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_manufacturer_ru"])).Visible((bool)ViewData["CK_UI_last_manufacturer"]).Width((int)ViewData["CK_UI_last_manufacturer_width"]).VisibleIndex((int)ViewData["CK_UI_last_manufacturer_pos"]).AllowEditing((bool)ViewData["CK_UI_last_manufacturer_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_manufacturer).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_manufacturer_ru"])).Visible((bool)ViewData["CK_UI_new_manufacturer"]).Width((int)ViewData["CK_UI_new_manufacturer_width"]).VisibleIndex((int)ViewData["CK_UI_new_manufacturer_pos"]).AllowEditing((bool)ViewData["CK_UI_new_manufacturer_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_manufacturer).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_manufacturer_ru"])).Visible((bool)ViewData["CK_UI_color_manufacturer"]).Width((int)ViewData["CK_UI_color_manufacturer_width"]).VisibleIndex((int)ViewData["CK_UI_color_manufacturer_pos"]).AllowEditing((bool)ViewData["CK_UI_color_manufacturer_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_unit_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_unit_description_ru"])).Visible((bool)ViewData["CK_UI_last_unit_description"]).Width((int)ViewData["CK_UI_last_unit_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_unit_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_unit_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_unit_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_unit_description_ru"])).Visible((bool)ViewData["CK_UI_new_unit_description"]).Width((int)ViewData["CK_UI_new_unit_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_unit_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_unit_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_unit_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_unit_description_ru"])).Visible((bool)ViewData["CK_UI_color_unit_description"]).Width((int)ViewData["CK_UI_color_unit_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_unit_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_unit_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_quantity).Format("#,##0.###,#").HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_quantity_ru"])).Visible((bool)ViewData["CK_UI_last_quantity"]).Width((int)ViewData["CK_UI_last_quantity_width"]).VisibleIndex((int)ViewData["CK_UI_last_quantity_pos"]).AllowEditing((bool)ViewData["CK_UI_last_quantity_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_quantity).Format("#,##0.###,#").HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_quantity_ru"])).Visible((bool)ViewData["CK_UI_new_quantity"]).Width((int)ViewData["CK_UI_new_quantity_width"]).VisibleIndex((int)ViewData["CK_UI_new_quantity_pos"]).AllowEditing((bool)ViewData["CK_UI_new_quantity_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_quantity).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_quantity_ru"])).Visible((bool)ViewData["CK_UI_color_quantity"]).Width((int)ViewData["CK_UI_color_quantity_width"]).VisibleIndex((int)ViewData["CK_UI_color_quantity_pos"]).AllowEditing((bool)ViewData["CK_UI_color_quantity_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_mass_per_unit).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_mass_per_unit_ru"])).Visible((bool)ViewData["CK_UI_last_mass_per_unit"]).Width((int)ViewData["CK_UI_last_mass_per_unit_width"]).VisibleIndex((int)ViewData["CK_UI_last_mass_per_unit_pos"]).AllowEditing((bool)ViewData["CK_UI_last_mass_per_unit_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_mass_per_unit).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_mass_per_unit_ru"])).Visible((bool)ViewData["CK_UI_new_mass_per_unit"]).Width((int)ViewData["CK_UI_new_mass_per_unit_width"]).VisibleIndex((int)ViewData["CK_UI_new_mass_per_unit_pos"]).AllowEditing((bool)ViewData["CK_UI_new_mass_per_unit_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_mass_per_unit).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_mass_per_unit_ru"])).Visible((bool)ViewData["CK_UI_color_mass_per_unit"]).Width((int)ViewData["CK_UI_color_mass_per_unit_width"]).VisibleIndex((int)ViewData["CK_UI_color_mass_per_unit_pos"]).AllowEditing((bool)ViewData["CK_UI_color_mass_per_unit_edit"]).EncodeHtml(false);
                                //columns.AddFor(m => m.last_mass_size).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_mass_size_ru"])).Visible((bool)ViewData["CK_UI_last_mass_size"]).Width((int)ViewData["CK_UI_last_mass_size_width"]).VisibleIndex((int)ViewData["CK_UI_last_mass_size_pos"]).AllowEditing((bool)ViewData["CK_UI_last_mass_size_edit"]).EncodeHtml(false);
                                //columns.AddFor(m => m.new_mass_size).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_mass_size_ru"])).Visible((bool)ViewData["CK_UI_new_mass_size"]).Width((int)ViewData["CK_UI_new_mass_size_width"]).VisibleIndex((int)ViewData["CK_UI_new_mass_size_pos"]).AllowEditing((bool)ViewData["CK_UI_new_mass_size_edit"]).EncodeHtml(false);
                                //columns.AddFor(m => m.color_mass_size).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_mass_size_ru"])).Visible((bool)ViewData["CK_UI_color_mass_size"]).Width((int)ViewData["CK_UI_color_mass_size_width"]).VisibleIndex((int)ViewData["CK_UI_color_mass_size_pos"]).AllowEditing((bool)ViewData["CK_UI_color_mass_size_edit"]).EncodeHtml(false);
                                columns.AddFor(m => m.last_summary).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_summary_ru"])).Visible((bool)ViewData["CK_UI_last_summary"]).Width((int)ViewData["CK_UI_last_summary_width"]).VisibleIndex((int)ViewData["CK_UI_last_summary_pos"]).AllowEditing((bool)ViewData["CK_UI_last_summary_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_summary).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_summary_ru"])).Visible((bool)ViewData["CK_UI_new_summary"]).Width((int)ViewData["CK_UI_new_summary_width"]).VisibleIndex((int)ViewData["CK_UI_new_summary_pos"]).AllowEditing((bool)ViewData["CK_UI_new_summary_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_summary).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_summary_ru"])).Visible((bool)ViewData["CK_UI_color_summary"]).Width((int)ViewData["CK_UI_color_summary_width"]).VisibleIndex((int)ViewData["CK_UI_color_summary_pos"]).AllowEditing((bool)ViewData["CK_UI_color_summary_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_summary2).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_summary2_ru"])).Visible((bool)ViewData["CK_UI_last_summary2"]).Width((int)ViewData["CK_UI_last_summary2_width"]).VisibleIndex((int)ViewData["CK_UI_last_summary2_pos"]).AllowEditing((bool)ViewData["CK_UI_last_summary2_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_summary2).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_summary2_ru"])).Visible((bool)ViewData["CK_UI_new_summary2"]).Width((int)ViewData["CK_UI_new_summary2_width"]).VisibleIndex((int)ViewData["CK_UI_new_summary2_pos"]).AllowEditing((bool)ViewData["CK_UI_new_summary2_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_summary2).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_summary2_ru"])).Visible((bool)ViewData["CK_UI_color_summary2"]).Width((int)ViewData["CK_UI_color_summary2_width"]).VisibleIndex((int)ViewData["CK_UI_color_summary2_pos"]).AllowEditing((bool)ViewData["CK_UI_color_summary2_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_project_requirement_source).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_project_requirement_source_ru"])).Visible((bool)ViewData["CK_UI_last_project_requirement_source"]).Width((int)ViewData["CK_UI_last_project_requirement_source_width"]).VisibleIndex((int)ViewData["CK_UI_last_project_requirement_source_pos"]).AllowEditing((bool)ViewData["CK_UI_last_project_requirement_source_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_project_requirement_source).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_project_requirement_source_ru"])).Visible((bool)ViewData["CK_UI_new_project_requirement_source"]).Width((int)ViewData["CK_UI_new_project_requirement_source_width"]).VisibleIndex((int)ViewData["CK_UI_new_project_requirement_source_pos"]).AllowEditing((bool)ViewData["CK_UI_new_project_requirement_source_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_project_requirement_source).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_project_requirement_source_ru"])).Visible((bool)ViewData["CK_UI_color_project_requirement_source"]).Width((int)ViewData["CK_UI_color_project_requirement_source_width"]).VisibleIndex((int)ViewData["CK_UI_color_project_requirement_source_pos"]).AllowEditing((bool)ViewData["CK_UI_color_project_requirement_source_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_delivery_type_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_delivery_type_description_ru"])).Visible((bool)ViewData["CK_UI_last_delivery_type_description"]).Width((int)ViewData["CK_UI_last_delivery_type_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_delivery_type_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_delivery_type_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_delivery_type_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_delivery_type_description_ru"])).Visible((bool)ViewData["CK_UI_new_delivery_type_description"]).Width((int)ViewData["CK_UI_new_delivery_type_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_delivery_type_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_delivery_type_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_delivery_type_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_delivery_type_description_ru"])).Visible((bool)ViewData["CK_UI_color_delivery_type_description"]).Width((int)ViewData["CK_UI_color_delivery_type_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_delivery_type_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_delivery_type_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.last_project_requirement_state_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_last_project_requirement_state_description_ru"])).Visible((bool)ViewData["CK_UI_last_project_requirement_state_description"]).Width((int)ViewData["CK_UI_last_project_requirement_state_description_width"]).VisibleIndex((int)ViewData["CK_UI_last_project_requirement_state_description_pos"]).AllowEditing((bool)ViewData["CK_UI_last_project_requirement_state_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.new_project_requirement_state_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_new_project_requirement_state_description_ru"])).Visible((bool)ViewData["CK_UI_new_project_requirement_state_description"]).Width((int)ViewData["CK_UI_new_project_requirement_state_description_width"]).VisibleIndex((int)ViewData["CK_UI_new_project_requirement_state_description_pos"]).AllowEditing((bool)ViewData["CK_UI_new_project_requirement_state_description_edit"]).EncodeHtml(false);
                                            columns.AddFor(m => m.color_project_requirement_state_description).HeaderCellTemplate(Convert.ToString(ViewData["CK_UI_color_project_requirement_state_description_ru"])).Visible((bool)ViewData["CK_UI_color_project_requirement_state_description"]).Width((int)ViewData["CK_UI_color_project_requirement_state_description_width"]).VisibleIndex((int)ViewData["CK_UI_color_project_requirement_state_description_pos"]).AllowEditing((bool)ViewData["CK_UI_color_project_requirement_state_description_edit"]).EncodeHtml(false);
                                        })
                                                                .Paging(p => p.PageSize(30))
                                                                .Pager(pager =>
                                                                {
                                                                    pager.ShowPageSizeSelector(true);
                                                                    pager.AllowedPageSizes(new List<int> { 5, 10, 20, 30, 50 });
                                                                    pager.AllowedPageSizes(new List<int> { 5, 10, 20, 30, 50 });
                                                                    pager.ShowInfo(true);
                                                                    pager.ShowNavigationButtons(true);
                                                                    pager.Visible(true);
                                                                })

                                                                .FilterRow(f => f.Visible(true).ApplyFilter(GridApplyFilterMode.Auto))
                                                                .HeaderFilter(f => f.Visible(true))
                                                                .RemoteOperations(true)
                                                                .ShowRowLines(true)
                                                                .ColumnAutoWidth(true)
                                                                .FilterSyncEnabled(true)
                                                                .Height(new JS("function() { return window.innerHeight-$('div.myheader').height();}"))
                                                                .Width("100%")
                                                                .LoadPanel(load => load.IndicatorSrc("/../../img/orig.gif").ShowIndicator(true).Height(200).Width(200))
                                                                .Sorting(s => s.Mode(GridSortingMode.Multiple))
                                                                .AllowColumnResizing(true)
                                                                .AllowColumnReordering(true)
                                                                .Option("columnResizingMode", ColumnResizingMode.Widget)
                                                                .WordWrapEnabled(true)
                                                                .OnContentReady("contentReady")
                                                                .OnToolbarPreparing("onToolbarPreparing")
                                                                .OnSelectionChanged("selection_changed")
                                                                .OnCellPrepared("getOnCellPrepared")
                                                                .Scrolling(scrolling => scrolling.UseNative(true).ShowScrollbar(DevExtreme.AspNet.Mvc.ShowScrollbarMode.Always)))







<script>

       $(function () {
           if ('@ViewBag.CommitChanges'.toLowerCase() == "false") $('#CommitChanges').hide(); else $('#CommitChanges').show();
        });


    //перечень кнопок для грида
    function onToolbarPreparing(e) {
        var dataGrid = e.component;
        e.toolbarOptions.items.unshift(
            {
                location: "before",
                template: function (e) {
                    return $(
                        "<button title='Назад' class='btn btn_in_grid dx-button btn_pad_grid' onclick='Back();'><img src='/../../img/GridBtn/1-14.png' style='height:18px; width:auto;' alt='Назад'></img></button>" +
                        "<button id='CommitChanges' title='Принять изменения' class='btn btn_in_grid dx-button btn_pad_grid' style='color:#337ab7; display: none;' onClick='CommitChanges();'>Принять изменения</button>"
                    )
                }
            },
            {
                location: "after",
                template: function (e) {
                    return $("<button class='btn btn_in_grid dx-button btn_pad_grid' title='Обновить' onclick='ReloadingGrid(\"Grid\")' id='Reloading'><img src='/../../img/GridBtn/1-5.png' style='height:18px; width:auto;' alt='Обновить' ></img></button>" +
                        "<button title='Очистить фильтры' onclick='ClearFilters();' class='btn btn_in_grid dx-button btn_pad_grid' id='ClearFilters'><img src='/../../img/GridBtn/1-9.png' style='height:18px; width:auto;'  alt='Очистить фильтры'></img></button>" +
                        "<button title='Выгрузить Excel' class='btn btn_in_grid dx-button btn_pad_grid' onclick='ExportExcel();' id='ExportExcel'><img src='/../../img/GridBtn/1-4.png' style='height:18px; width:auto;' alt='Выгрузить Excel'></img></button>" +
                        "<button title='Показать выбранные' class='btn btn_in_grid dx-button btn_pad_grid' onclick='showSelectedPicture(this, \"Grid\");' id='showSelectedPicture'><img src='/../../img/GridBtn/1-7.png' width='18' height='18' alt='Показать выбранные'></img></button>" +
                        "<button title='Настройки' class= 'btn btn_in_grid dx-button btn_pad_grid' data-toggle='modal' data-target='#UserSettings' id='UserSettings' ><img src='/../../img/GridBtn/1-6.png' style='height:18px; width:auto;' alt='Настройки'></img></button>"
                    )
                }
            });
    }

</script>